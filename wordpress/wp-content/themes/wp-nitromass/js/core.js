!function(window){function bindReady(){if(!readyBound){if(readyBound=!0,"complete"===document.readyState)return runReady();if(document.addEventListener)document.addEventListener("DOMContentLoaded",__readyHandler,!1),window.addEventListener("load",runReady,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",__readyHandler),window.attachEvent("onload",runReady);var e=!1;try{e=null==window.frameElement}catch(t){}document.documentElement.doScroll&&e&&doScrollCheck()}}return null}function runReady(){if(!BX.isReady){if(!document.body)return setTimeout(runReady,15);if(BX.isReady=!0,readyList&&readyList.length>0){for(var e,t=0;readyList&&(e=readyList[t++]);)try{e.call(document)}catch(n){BX.debug("BX.ready error: ",n)}readyList=null}}return null}function doScrollCheck(){if(!BX.isReady){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(doScrollCheck,1)}runReady()}}function _adjustWait(){if(this.bxmsg){var e=BX.pos(this),t=e.top;t<BX.GetDocElement().scrollTop&&(t=BX.GetDocElement().scrollTop+5),this.bxmsg.style.top=t+5+"px",this==BX.GetDocElement()?this.bxmsg.style.right="5px":this.bxmsg.style.left=e.right-this.bxmsg.offsetWidth-5+"px"}}function _checkDisplay(e,t){"undefined"!=typeof t&&(e.BXDISPLAY=t);var n=e.style.display||BX.style(e,"display");return"none"!=n?(e.BXDISPLAY=e.BXDISPLAY||n,!0):(e.BXDISPLAY=e.BXDISPLAY||"block",!1)}function _processTpl(e,t,n){if(e){n&&e.parentNode.removeChild(e);for(var r={},i=BX.findChildren(e,{attribute:"data-role"},!0),o=0,s=i.length;o<s;o++)r[i[o].getAttribute("data-role")]=i[o];t.apply(e,[r])}}function _checkNode(e,t){if(t=t||{},BX.type.isFunction(t))return t.call(window,e);if(!t.allowTextNodes&&!BX.type.isElementNode(e))return!1;var n,r,i;for(n in t)switch(n){case"tag":case"tagName":if(BX.type.isString(t[n])){if(e.tagName.toUpperCase()!=t[n].toUpperCase())return!1}else if(t[n]instanceof RegExp&&!t[n].test(e.tagName))return!1;break;case"class":case"className":if(BX.type.isString(t[n])){if(!BX.hasClass(e,t[n]))return!1}else if(t[n]instanceof RegExp&&(!BX.type.isString(e.className)||!t[n].test(e.className)))return!1;break;case"attr":case"attribute":if(BX.type.isString(t[n])){if(!e.getAttribute(t[n]))return!1}else if(BX.type.isArray(t[n])){for(r=0,i=t[n].length;r<i;r++)if(t[n]&&!e.getAttribute(t[n]))return!1}else for(r in t[n]){var o=e.getAttribute(r);if(t[n][r]instanceof RegExp){if(!BX.type.isString(o)||!t[n][r].test(o))return!1}else if(o!=""+t[n][r])return!1}break;case"property":if(BX.type.isString(t[n])){if(!e[t[n]])return!1}else if(BX.type.isArray(t[n])){for(r=0,i=t[n].length;r<i;r++)if(t[n]&&!e[t[n]])return!1}else for(r in t[n])if(BX.type.isString(t[n][r])){if(e[r]!=t[n][r])return!1}else if(t[n][r]instanceof RegExp&&(!BX.type.isString(e[r])||!t[n][r].test(e[r])))return!1;break;case"callback":return t[n](e)}return!0}function _checkCssList(){var e=document.getElementsByTagName("LINK");window.arKernelCSS&&BX.type.isArray(arKernelCSS)&&(e=BX.util.array_merge(e,arKernelCSS));for(var t=0;t<e.length;t++){var n=BX.type.isDomNode(e[t])?e[t].getAttribute("href"):e[t];n&&n.replace&&cssList.push(n.replace(/\.css(\?\d*)/,".css"))}_checkCssList=BX.DoNothing}function _isScriptLoaded(e){return BX.util.in_array(e,arKernelJS)||e.indexOf("/core/core.js")>0||e.indexOf("/core_access.js")>=0&&!!BX.Access||e.indexOf("/core_admin.js")>=0&&!!BX.admin||e.indexOf("/core_admin_interface.js")>=0&&!!BX.adminPanel||e.indexOf("/core_admin_login.js")>=0&&!!BX.adminLogin||e.indexOf("/core_ajax.js")>=0&&!!BX.ajax||e.indexOf("/core_autosave.js")>=0&&!!BX.CAutoSave||e.indexOf("/core_date.js")>=0&&!!BX.date||e.indexOf("/core_finder.js")>=0&&!!BX.Finder||e.indexOf("/core_fx.js")>=0&&!!BX.easing||e.indexOf("/core_image.js")>=0&&!!BX.CImageView||e.indexOf("/core_ls.js")>=0&&!!BX.localStorage||e.indexOf("/core_popup.js")>=0&&!!BX.PopupWindowManager||e.indexOf("/core_tags.js")>=0&&!!BX.TagsWindowArea||e.indexOf("/core_timer.js")>=0&&!!BX.timer||e.indexOf("/core_tooltip.js")>=0&&!!BX.tooltip||e.indexOf("/core_translit.js")>=0&&!!BX.translit||e.indexOf("/core_window.js")>=0&&!!BX.WindowManager||e.indexOf("/jquery-")>=0&&!!window.jQuery}function Trash(){var e,t;for(e=0,t=garbageCollectors.length;e<t;e++)try{garbageCollectors[e].callback.apply(garbageCollectors[e].context||window),delete garbageCollectors[e],garbageCollectors[e]=null}catch(n){}try{BX.unbindAll()}catch(n){}}if(!window.BX||!window.BX.extend){var _bxtmp;if(window.BX&&(_bxtmp=window.BX),window.BX=function(e,t){if(BX.type.isNotEmptyString(e)){var n;return t&&null!=NODECACHE[e]&&(n=NODECACHE[e]),n=n||document.getElementById(e),t&&(NODECACHE[e]=n),n}return BX.type.isDomNode(e)?e:BX.type.isFunction(e)?BX.ready(e):null},BX.message=function(e){if(BX.type.isString(e))return"undefined"==typeof BX.message[e]&&BX.debug("message undefined: "+e),BX.message[e];for(var t in e)BX.message[t]=e[t];return!0},_bxtmp)for(var i in _bxtmp){if(BX[i]){if("message"==i)for(var j in _bxtmp[i])BX.message[j]=_bxtmp[i][j]}else BX[i]=_bxtmp[i];_bxtmp=null}var __readyHandler=null,readyBound=!1,readyList=[],proxySalt=Math.random(),proxyId=1,proxyList=[],deferList=[],NODECACHE={},deniedEvents=[],eventsList=[],customEvents={},garbageCollectors=[],cssList=[],arKernelJS=[],bSafari=navigator.userAgent.toLowerCase().indexOf("webkit")!=-1,bOpera=navigator.userAgent.toLowerCase().indexOf("opera")!=-1,bFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")!=-1,bChrome=navigator.userAgent.toLowerCase().indexOf("chrome")!=-1,bIE=document.attachEvent&&!bOpera,r={script:/<script([^>]*)>/i,script_src:/src=["\']([^"\']+)["\']/i,space:/\s+/,ltrim:/^[\s\r\n]+/g,rtrim:/[\s\r\n]+$/g,style:/<link.*?(rel="stylesheet"|type="text\/css")[^>]*>/i,style_href:/href=["\']([^"\']+)["\']/i},eventTypes={click:"MouseEvent",dblclick:"MouseEvent",mousedown:"MouseEvent",mousemove:"MouseEvent",mouseout:"MouseEvent",mouseover:"MouseEvent",mouseup:"MouseEvent",focus:"MouseEvent",blur:"MouseEvent"},lastWait=[],CHECK_FORM_ELEMENTS={tagName:/^INPUT|SELECT|TEXTAREA|BUTTON$/i};BX.MSLEFT=1,BX.MSMIDDLE=2,BX.MSRIGHT=4,BX.ext=function(e){for(var t in e)this[t]=e[t]},BX.extend=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)},BX.debug=function(){window.BXDEBUG&&window.console&&window.console.log&&console.log("BX.debug: ",arguments.length>0?arguments:arguments[0])},BX.is_subclass_of=function(e,t){return e instanceof t||!!t.superclass&&BX.is_subclass_of(e,t.superclass)},BX.bitrix_sessid=function(){return BX.message.bitrix_sessid},BX.create=function(e,t,n){n=n||document,null==t&&"object"==typeof e&&e.constructor!==String&&(t=e,e=e.tag);var r;return r=BX.browser.IsIE()&&!BX.browser.IsIE9()&&null!=t&&null!=t.props&&(t.props.name||t.props.id)?n.createElement("<"+e+(t.props.name?' name="'+t.props.name+'"':"")+(t.props.id?' id="'+t.props.id+'"':"")+">"):n.createElement(e),t?BX.adjust(r,t):r},BX.adjust=function(e,t){var n,r;if(!e.nodeType)return null;if(9==e.nodeType&&(e=e.body),t.attrs)for(n in t.attrs)"class"==n||"className"==n?e.className=t.attrs[n]:"for"==n?e.htmlFor=t.attrs[n]:""==t.attrs[n]?e.removeAttribute(n):e.setAttribute(n,t.attrs[n]);if(t.style)for(n in t.style)e.style[n]=t.style[n];if(t.props)for(n in t.props)e[n]=t.props[n];if(t.events)for(n in t.events)BX.bind(e,n,t.events[n]);if(t.children&&t.children.length>0)for(n=0,r=t.children.length;n<r;n++)BX.type.isNotEmptyString(t.children[n])?e.innerHTML+=t.children[n]:BX.type.isElementNode(t.children[n])&&e.appendChild(t.children[n]);else t.text?(BX.cleanNode(e),e.appendChild((e.ownerDocument||document).createTextNode(t.text))):t.html&&(e.innerHTML=t.html);return e},BX.remove=function(e){return null!=e.parentNode&&e.parentNode.removeChild(e),e=null,null},BX.cleanNode=function(e,t){if(e=BX(e),t=!!t,e&&e.childNodes)for(;e.childNodes.length>0;)e.removeChild(e.firstChild);return e&&t&&(e=BX.remove(e)),e},BX.addClass=function(e,t){var n;if(e=BX(e),t=BX.util.trim(t),""==t)return e;if(e)if(e.className)if(e.classList&&t.indexOf(" ")<0)e.classList.add(t);else{n=(t||"").split(r.space);for(var i=" "+e.className+" ",o=0,s=n.length;o<s;o++)i.indexOf(" "+n[o]+" ")<0&&(e.className+=" "+n[o])}else e.className=t;return e},BX.removeClass=function(e,t){if(e=BX(e),e&&e.className&&t)if(BX.type.isString(t))if(e.classList&&t.indexOf(" ")<0)e.classList.remove(t);else{for(var n=t.split(r.space),i=" "+e.className+" ",o=0,s=n.length;o<s;o++)i=i.replace(" "+n[o]+" "," ");e.className=BX.util.trim(i)}else e.className="";return e},BX.toggleClass=function(e,t){var n;if(BX.type.isArray(t)){n=" "+e.className+" ";for(var r=0,i=t.length;r<i;r++)if(BX.hasClass(e,t[r])){n=(" "+n+" ").replace(" "+t[r]+" "," "),n+=" "+t[r>=i-1?0:r+1],r--;break}r==i?e.className+=" "+t[0]:e.className=n,e.className=BX.util.trim(e.className)}else BX.type.isNotEmptyString(t)&&(e.classList?e.classList.toggle(t):(n=e.className,BX.hasClass(e,t)?n=(" "+n+" ").replace(" "+t+" "," "):n+=" "+t,e.className=BX.util.trim(n)));return e},BX.hasClass=function(e,t){return e&&BX.type.isDomNode(e)?!(!e.className||!t)&&(e.classList&&t&&t.indexOf(" ")<0?e.classList.contains(BX.util.trim(t)):(" "+e.className+" ").indexOf(" "+t+" ")>=0):(BX.debug(e),!1)},BX.hoverEvents=function(e){return e?BX.adjust(e,{events:BX.hoverEvents()}):{mouseover:BX.hoverEventsHover,mouseout:BX.hoverEventsHout}},BX.hoverEventsHover=function(){BX.addClass(this,"bx-hover"),this.BXHOVER=!0},BX.hoverEventsHout=function(){BX.removeClass(this,"bx-hover"),this.BXHOVER=!1},BX.focusEvents=function(e){return e?BX.adjust(e,{events:BX.focusEvents()}):{mouseover:BX.focusEventsFocus,mouseout:BX.focusEventsBlur}},BX.focusEventsFocus=function(){BX.addClass(this,"bx-focus"),this.BXFOCUS=!0},BX.focusEventsBlur=function(){BX.removeClass(this,"bx-focus"),this.BXFOCUS=!1},BX.setUnselectable=function(e){BX.addClass(e,"bx-unselectable"),e.setAttribute("unSelectable","on")},BX.setSelectable=function(e){BX.removeClass(e,"bx-unselectable"),e.removeAttribute("unSelectable")},BX.styleIEPropertyName=function(e){if("float"==e)e=BX.browser.IsIE()?"styleFloat":"cssFloat";else{var t=BX.browser.isPropertySupported(e);if(t)e=t;else{var n=/(\-([a-z]){1})/g;n.test(e)&&(e=e.replace(n,function(){return arguments[2].toUpperCase()}))}}return e},BX.style=function(e,t,n){if(!BX.type.isElementNode(e))return null;if(null==n){var r;if(e.currentStyle)r=e.currentStyle[BX.styleIEPropertyName(t)];else if(window.getComputedStyle){var i=BX.browser.isPropertySupported(t,!0);i&&(t=i),r=BX.GetContext(e).getComputedStyle(e,null).getPropertyValue(t)}return r||(r=""),r}return e.style[BX.styleIEPropertyName(t)]=n,e},BX.focus=function(e){try{return e.focus(),!0}catch(t){return!1}},BX.firstChild=function(e){for(var t=e.firstChild;t&&!BX.type.isElementNode(t);)t=t.nextSibling;return t},BX.lastChild=function(e){for(var t=e.lastChild;t&&!BX.type.isElementNode(t);)t=t.previousSibling;return t},BX.previousSibling=function(e){for(var t=e.previousSibling;t&&!BX.type.isElementNode(t);)var t=t.previousSibling;return t},BX.nextSibling=function(e){for(var t=e.nextSibling;t&&!BX.type.isElementNode(t);)var t=t.nextSibling;return t},BX.findChildren=function(e,t,n){return BX.findChild(e,t,n,!0)},BX.findChild=function(e,t,n,r){if(!e||!e.childNodes)return null;n=!!n,r=!!r;for(var i=e.childNodes.length,o=[],s=0;s<i;s++){var a=e.childNodes[s];if(_checkNode(a,t)){if(!r)return a;o.push(a)}if(1==n){var l=BX.findChild(a,t,n,r);if(l){if(!r)return l;o=BX.util.array_merge(o,l)}}}return r&&o.length>0?o:null},BX.findParent=function(e,t,n){if(!e)return null;for(var r=e;r.parentNode;){var i=r.parentNode;if(_checkNode(i,t))return i;if(r=i,n&&(BX.type.isFunction(n)||"object"==typeof n))if(BX.type.isElementNode(n)){if(r==n)break}else if(_checkNode(r,n))break}return null},BX.findNextSibling=function(e,t){if(!e)return null;for(var n=e;n.nextSibling;){var r=n.nextSibling;if(_checkNode(r,t))return r;n=r}return null},BX.findPreviousSibling=function(e,t){if(!e)return null;for(var n=e;n.previousSibling;){var r=n.previousSibling;if(_checkNode(r,t))return r;n=r}return null},BX.findFormElements=function(e){BX.type.isString(e)&&(e=document.forms[e]||BX(e));var t=[];return BX.type.isElementNode(e)&&(t="FORM"==e.tagName.toUpperCase()?e.elements:BX.findChildren(e,CHECK_FORM_ELEMENTS,!0)),t},BX.clone=function(e,t){var n,r,i;if(t!==!1&&(t=!0),null===e)return null;if(BX.type.isDomNode(e))n=e.cloneNode(t);else if("object"==typeof e)if(BX.type.isArray(e))for(n=[],r=0,i=e.length;r<i;r++)"object"==typeof e[r]&&t?n[r]=BX.clone(e[r],t):n[r]=e[r];else{n={},e.constructor&&(n=e.constructor===Date?new Date(e):new e.constructor);for(r in e)"object"==typeof e[r]&&t?n[r]=BX.clone(e[r],t):n[r]=e[r]}else n=e;return n},BX.bind=function(e,t,n){e&&("mousewheel"===t?BX.bind(e,"DOMMouseScroll",n):"transitionend"===t&&(BX.bind(e,"webkitTransitionEnd",n),BX.bind(e,"msTransitionEnd",n),BX.bind(e,"oTransitionEnd",n)),e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,BX.proxy(n,e)):e["on"+t]=n,eventsList[eventsList.length]={element:e,event:t,fn:n})},BX.unbind=function(e,t,n){e&&("mousewheel"===t&&BX.unbind(e,"DOMMouseScroll",n),e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,BX.proxy(n,e)):e["on"+t]=null)},BX.getEventButton=function(e){e=e||window.event;var t=0;if("undefined"!=typeof e.which)switch(e.which){case 1:t|=BX.MSLEFT;break;case 2:t|=BX.MSMIDDLE;break;case 3:t|=BX.MSRIGHT}else"undefined"!=typeof e.button&&(t=event.button);return t||BX.MSLEFT},BX.unbindAll=function(e){if(e){for(var t=0,n=eventsList.length;t<n;t++)try{!eventsList[t]||null!=e&&e!=eventsList[t].element||(BX.unbind(eventsList[t].element,eventsList[t].event,eventsList[t].fn),eventsList[t]=null)}catch(r){}null==e&&(eventsList=[])}};var captured_events=null,_bind=null;BX.CaptureEvents=function(e,t){return!_bind&&(_bind=BX.bind,captured_events=[],void(BX.bind=function(n,r,i){n===e&&r===t&&captured_events.push(i),_bind.apply(this,arguments)}))},BX.CaptureEventsGet=function(){if(_bind){BX.bind=_bind;var e=captured_events;return _bind=null,captured_events=null,e}},BX.fireEvent=function(e,t){var n=!1;if(BX.type.isDomNode(e))if(n=!0,document.createEventObject){if("MouseEvent"!=eventTypes[t]){var r=document.createEventObject();r.type=t,n=e.fireEvent("on"+t,r)}e[t]&&e[t]()}else{var r=null;switch(eventTypes[t]){case"MouseEvent":r=document.createEvent("MouseEvent"),r.initMouseEvent(t,!0,!0,top,1,0,0,0,0,0,0,0,0,0,null);break;default:r=document.createEvent("Event"),r.initEvent(t,!0,!0)}n=e.dispatchEvent(r)}return n},BX.getWheelData=function(e){return e=e||window.event,wheelData=e.detail?e.detail*-1:e.wheelDelta/40},BX.proxy_context=null,BX.delegate=function(e,t){return e&&t?function(){var n=BX.proxy_context;BX.proxy_context=this;var r=e.apply(t,arguments);return BX.proxy_context=n,r}:e},BX.delegateLater=function(e,t,n){return function(){if(t[e]){var r=BX.proxy_context;BX.proxy_context=this;var i=t[e].apply(n||t,arguments);return BX.proxy_context=r,i}}},BX._initObjectProxy=function(e){"undefined"==typeof e["__proxy_id_"+proxySalt]&&(e["__proxy_id_"+proxySalt]=proxyList.length,proxyList[e["__proxy_id_"+proxySalt]]={})},BX.proxy=function(e,t){return e&&t?(BX._initObjectProxy(t),"undefined"==typeof e["__proxy_id_"+proxySalt]&&(e["__proxy_id_"+proxySalt]=proxyId++),proxyList[t["__proxy_id_"+proxySalt]][e["__proxy_id_"+proxySalt]]||(proxyList[t["__proxy_id_"+proxySalt]][e["__proxy_id_"+proxySalt]]=BX.delegate(e,t)),proxyList[t["__proxy_id_"+proxySalt]][e["__proxy_id_"+proxySalt]]):e},BX.defer=function(e,t){return t?BX.defer_proxy(e,t):function(){var t=arguments;setTimeout(function(){e.apply(this,t)},10)}},BX.defer_proxy=function(e,t){if(!e||!t)return e;BX.proxy(e,t);return this._initObjectProxy(t),"undefined"==typeof e["__defer_id_"+proxySalt]&&(e["__defer_id_"+proxySalt]=proxyId++),proxyList[t["__proxy_id_"+proxySalt]][e["__defer_id_"+proxySalt]]||(proxyList[t["__proxy_id_"+proxySalt]][e["__defer_id_"+proxySalt]]=BX.defer(BX.delegate(e,t))),proxyList[t["__proxy_id_"+proxySalt]][e["__defer_id_"+proxySalt]]},BX.bindDelegate=function(e,t,n,r){var i=BX.delegateEvent(n,r);return BX.bind(e,t,i),i},BX.delegateEvent=function(e,t){return function(n){n=n||window.event;for(var r=n.target||n.srcElement;r!=this;){if(_checkNode(r,e))return t.call(r,n);if(!r||!r.parentNode)break;r=r.parentNode}}},BX.False=function(){return!1},BX.DoNothing=function(){},BX.denyEvent=function(e,t){deniedEvents.push([e,t,e["on"+t]]),e["on"+t]=BX.DoNothing},BX.allowEvent=function(e,t){for(var n=0,r=deniedEvents.length;n<r;n++)if(deniedEvents[n][0]==e&&deniedEvents[n][1]==t)return e["on"+t]=deniedEvents[n][2],void BX.util.deleteFromArray(deniedEvents,n)},BX.fixEventPageXY=function(e){return BX.fixEventPageX(e),BX.fixEventPageY(e),e},BX.fixEventPageX=function(e){return null==e.pageX&&null!=e.clientX&&(e.pageX=e.clientX+(document.documentElement&&document.documentElement.scrollLeft||document.body&&document.body.scrollLeft||0)-(document.documentElement.clientLeft||0)),e},BX.fixEventPageY=function(e){return null==e.pageY&&null!=e.clientY&&(e.pageY=e.clientY+(document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0)-(document.documentElement.clientTop||0)),e},BX.PreventDefault=function(e){return e||(e=window.event),e.stopPropagation?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1),!1},BX.eventReturnFalse=function(e){return e=e||window.event,e&&e.preventDefault?e.preventDefault():e.returnValue=!1,!1},BX.eventCancelBubble=function(e){e=e||window.event,e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},BX.addCustomEvent=function(e,t,n){BX.type.isString(e)&&(n=t,t=e,e=window),t=t.toUpperCase(),customEvents[t]||(customEvents[t]=[]),customEvents[t].push({handler:n,obj:e})},BX.removeCustomEvent=function(e,t,n){if(BX.type.isString(e)&&(n=t,t=e,e=window),t=t.toUpperCase(),customEvents[t])for(var r=0,i=customEvents[t].length;r<i;r++)if(customEvents[t][r]&&customEvents[t][r].handler==n&&customEvents[t][r].obj==e)return void delete customEvents[t][r]},BX.onCustomEvent=function(e,t,n){if(BX.type.isString(e)&&(n=t,t=e,e=window),t=t.toUpperCase(),customEvents[t]){n||(n=[]);for(var r,i=0,o=customEvents[t].length;i<o;i++)r=customEvents[t][i],r&&r.handler&&(r.obj!=window&&r.obj!=e||r.handler.apply(e,n))}},BX.parseJSON=function(data,context){var result=null;if(BX.type.isString(data))try{data.indexOf("\n")>=0?eval("result = "+data):result=new Function("return "+data)()}catch(e){BX.onCustomEvent(context,"onParseJSONFailure",[data,context])}return result},BX.isReady=!1,BX.ready=function(e){bindReady(),BX.type.isFunction(e)?BX.isReady?e.call(document):readyList&&readyList.push(e):BX.debug("READY: not a function! ",e)},BX.submit=function(e,t,n,r){t=t||"save",e["BXFormSubmit_"+t]||(e["BXFormSubmit_"+t]=e.appendChild(BX.create("INPUT",{props:{type:"submit",name:t,value:n||"Y"},style:{display:"none"}}))),e.sessid&&(e.sessid.value=BX.bitrix_sessid()),setTimeout(BX.delegate(function(){BX.fireEvent(this,"click"),r&&r()},e["BXFormSubmit_"+t]),10)},BX.browser={IsIE:function(){return bIE},IsIE6:function(){return/MSIE 6/i.test(navigator.userAgent)},IsIE9:function(){return!!document.documentMode&&document.documentMode>=9},IsIE10:function(){return!!document.documentMode&&document.documentMode>=10},IsOpera:function(){return bOpera},IsSafari:function(){return bSafari},IsFirefox:function(){return bFirefox},IsChrome:function(){return bChrome},IsMac:function(){return/Macintosh/i.test(navigator.userAgent)},IsAndroid:function(){return/Android/i.test(navigator.userAgent)},IsIOS:function(){return/(iPad;)|(iPhone;)/i.test(navigator.userAgent)},IsDoctype:function(e){return e=e||document,e.compatMode?"CSS1Compat"==e.compatMode:!(!e.documentElement||!e.documentElement.clientHeight)},SupportLocalStorage:function(){return!!BX.localStorage&&!!BX.localStorage.checkBrowser()},addGlobalClass:function(){BX.browser.IsIOS()&&BX.addClass(document.documentElement,"bx-ios"),/AppleWebKit/.test(navigator.userAgent)?BX.addClass(document.documentElement,"bx-chrome"):/MSIE 8/.test(navigator.userAgent)?BX.addClass(document.documentElement,"bx-ie bx-ie8"+(BX.browser.IsDoctype()?"":" bx-quirks")):/MSIE 9/.test(navigator.userAgent)?BX.addClass(document.documentElement,"bx-ie bx-ie9"+(BX.browser.IsDoctype()?"":" bx-quirks")):/MSIE 10/.test(navigator.userAgent)?BX.addClass(document.documentElement,"bx-ie bx-ie10"):/Opera/.test(navigator.userAgent)?BX.addClass(document.documentElement,"bx-opera"):/Gecko/.test(navigator.userAgent)&&BX.addClass(document.documentElement,"bx-firefox"),BX.browser.addGlobalClass=BX.DoNothing},isPropertySupported:function(e,t){function n(e){return e.replace(/([A-Z])/g,function(){return"-"+arguments[1].toLowerCase()})}function r(e){var t=/(\-([a-z]){1})/g;return t.test(e)?e.replace(t,function(){return arguments[2].toUpperCase()}):e}if(!BX.type.isNotEmptyString(e))return!1;var i=e.indexOf("-")>-1?r(e):e;t=!!t;for(var o=i.charAt(0).toUpperCase()+i.slice(1),s=(i+" "+["Webkit","Moz","O","ms"].join(o+" ")+o).split(" "),a=document.body||document.documentElement,l=0;l<s.length;l++){var c=s[l];if(void 0!==a.style[c]){var u=c==i?"":"-"+c.substr(0,c.length-i.length).toLowerCase()+"-";return t?u+n(i):c}}return!1},addGlobalFeatures:function(e,t){if(BX.type.isArray(e)){for(var n=[],r=0;r<e.length;r++){var i=!!BX.browser.isPropertySupported(e[r]);n.push("bx-"+(i?"":"no-")+e[r].toLowerCase())}BX.addClass(document.documentElement,n.join(" "))}}},BX.show=function(e,t){!e.BXDISPLAY&&_checkDisplay(e,t)||(e.style.display=e.BXDISPLAY)},BX.hide=function(e,t){e.BXDISPLAY||_checkDisplay(e,t),e.style.display="none"},BX.toggle=function(e,t){if(!t&&BX.type.isElementNode(e)){var n=!0;n=e.BXDISPLAY?!_checkDisplay(e):"none"==e.style.display,n?BX.show(e):BX.hide(e)}else if(BX.type.isArray(t)){for(var r=0,i=t.length;r<i;r++)if(e==t[r]){e=t[r==i-1?0:r+1];break}r==i&&(e=t[0])}return e},BX.util={array_values:function(e){if(!BX.type.isArray(e))return BX.util._array_values_ob(e);for(var t=[],n=0,r=e.length;n<r;n++)null!==e[n]&&"undefined"!=typeof e[n]&&t.push(e[n]);return t},_array_values_ob:function(e){var t=[];for(var n in e)null!==e[n]&&"undefined"!=typeof e[n]&&t.push(e[n]);return t},array_keys:function(e){if(!BX.type.isArray(e))return BX.util._array_keys_ob(e);for(var t=[],n=0,r=e.length;n<r;n++)null!==e[n]&&"undefined"!=typeof e[n]&&t.push(n);return t},_array_keys_ob:function(e){var t=[];for(var n in e)null!==e[n]&&"undefined"!=typeof e[n]&&t.push(n);return t},array_merge:function(e,t){BX.type.isArray(e)||(e=[]),BX.type.isArray(t)||(t=[]);var n=e.length,r=0;if("number"==typeof t.length)for(var i=t.length;r<i;r++)e[n++]=t[r];else for(;void 0!==t[r];)e[n++]=t[r++];return e.length=n,e},array_unique:function(e){var t,n=0,r=e.length;if(r<2)return e;for(;n<r-1;n++)for(t=n+1;t<r;t++)e[n]==e[t]&&(e.splice(t--,1),r--);return e},in_array:function(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},array_search:function(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return n;return-1},object_search_key:function(e,t){if(t[e])return t[e];for(var n in t)if("object"==typeof t[n]){var r=BX.util.object_search_key(e,t[n]);if(r!==!1)return r}return!1},trim:function(e){return BX.type.isString(e)?e.replace(r.ltrim,"").replace(r.rtrim,""):e},urlencode:function(e){return encodeURIComponent(e)},deleteFromArray:function(e,t){return e.slice(0,t).concat(e.slice(t+1))},insertIntoArray:function(e,t,n){return e.slice(0,t).concat([n]).concat(e.slice(t))},htmlspecialchars:function(e){return e.replace?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},htmlspecialcharsback:function(e){return e.replace?e.replace(/\&quot;/g,'"').replace(/&#39;/g,"'").replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&amp;/g,"&"):e},preg_quote:function(e,t){return e.replace?e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(t||"")+"-]","g"),"\\$&"):e},jsencode:function(e){if(!e||!e.replace)return e;for(var t=[{c:"\\\\",r:"\\\\"},{c:"\\t",r:"\\t"},{c:"\\n",r:"\\n"},{c:"\\r",r:"\\r"},{c:'"',r:'\\"'},{c:"'",r:"\\'"},{c:"<",r:"\\x3C"},{c:">",r:"\\x3E"},{c:"\\u2028",r:"\\u2028"},{c:"\\u2029",r:"\\u2029"}],n=0;n<t.length;n++)e=e.replace(new RegExp(t[n].c,"g"),t[n].r);return e},str_pad:function(e,t,n,r){return n=n||" ",r=r||"right",e=e.toString(),"left"==r?BX.util.str_pad_left(e,t,n):BX.util.str_pad_right(e,t,n)},str_pad_left:function(e,t,n){var r=e.length,i=n.length;if(r>=t)return e;for(;r<t;r+=i)e=n+e;return e},str_pad_right:function(e,t,n){var r=e.length,i=n.length;if(r>=t)return e;for(;r<t;r+=i)e+=n;return e},strip_tags:function(e){return e.split(/<[^>]+>/g).join("")},popup:function(e,t,n){var r,i;BX.browser.IsOpera()?(r=document.body.offsetWidth,i=document.body.offsetHeight):(r=screen.width,i=screen.height),window.open(e,"","status=no,scrollbars=yes,resizable=yes,width="+t+",height="+n+",top="+Math.floor((i-n)/2-14)+",left="+Math.floor((r-t)/2-5))},objectSort:function(e,t,n){n="asc"==n?"asc":"desc";var r=Array();for(var i in e)e[i][t]&&r.push([i,e[i][t]]);"asc"==n?r.sort(function(e,t){if(isNaN(e[1])||isNaN(t[1]))var n=e[1].toString().toLowerCase(),r=t[1].toString().toLowerCase();else var n=parseInt(e[1]),r=parseInt(t[1]);return n>r?1:n<r?-1:0}):r.sort(function(e,t){if(isNaN(e[1])||isNaN(t[1]))var n=e[1].toString().toLowerCase(),r=t[1].toString().toLowerCase();else var n=parseInt(e[1]),r=parseInt(t[1]);return n<r?1:n>r?-1:0});for(var o=Array(),i=0;i<r.length;i++)o.push(e[r[i][0]]);return o},hex2rgb:function(e){for(var t=e.replace(/[# ]/g,"").replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3").match(/.{2}/g),n=0;n<3;n++)t[n]=parseInt(t[n],16);return{r:t[0],g:t[1],b:t[2]}},remove_url_param:function(e,t){if(BX.type.isArray(t))for(var n=0;n<t.length;n++)e=BX.util.remove_url_param(e,t[n]);else e=e.replace(new RegExp("([?&])"+t+"=[^&]*[&]*","i"),"$1");return e},even:function(e){return parseInt(e)%2==0}},BX.type={isString:function(e){return""===e||!!e&&("string"==typeof e||e instanceof String)},isNotEmptyString:function(e){return!!BX.type.isString(e)&&e.length>0},isBoolean:function(e){return e===!0||e===!1},isNumber:function(e){return 0===e||!!e&&("number"==typeof e||e instanceof Number)},isFunction:function(e){return null!==e&&("function"==typeof e||e instanceof Function)},isElementNode:function(e){return e&&"object"==typeof e&&"nodeType"in e&&1==e.nodeType&&e.tagName&&"SCRIPT"!=e.tagName.toUpperCase()&&"STYLE"!=e.tagName.toUpperCase()&&"LINK"!=e.tagName.toUpperCase()},isDomNode:function(e){return e&&"object"==typeof e&&"nodeType"in e},isArray:function(e){return e&&"[object Array]"==Object.prototype.toString.call(e)},isDate:function(e){return e&&"[object Date]"==Object.prototype.toString.call(e)}},BX.isNodeInDom=function(e){return e===document||!!e.parentNode&&BX.isNodeInDom(e.parentNode)},BX.isNodeHidden=function(e){return e!==document&&("none"==BX.style(e,"display")||(!e.parentNode||BX.isNodeHidden(e.parentNode)))},BX.evalPack=function(e){for(;e.length>0;){var t=e.shift();"SCRIPT_EXT"==t.TYPE||"SCRIPT_SRC"==t.TYPE?BX.loadScript(t.DATA,function(){BX.evalPack(e)}):"SCRIPT"==t.TYPE&&BX.evalGlobal(t.DATA)}},BX.evalGlobal=function(e){if(e){var t=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script");n.type="text/javascript",BX.browser.IsIE()?n.text=e:n.appendChild(document.createTextNode(e)),t.insertBefore(n,t.firstChild),t.removeChild(n)}},BX.processHTML=function(e,t){for(var n,i=[],o=[],s=e;null!==(n=s.match(r.script));){var a=s.search(/<\/script>/i);if(a==-1)break;var l,c=t||"-1"!=n[1].indexOf("bxrunfirst");if(null!==(l=n[1].match(r.script_src)))i.push({bRunFirst:c,isInternal:!1,JS:l[1]});else{var u=n.index+n[0].length,d=s.substr(u,a-u);i.push({bRunFirst:c,isInternal:!0,JS:d})}s=s.substr(0,n.index)+s.substr(a+9)}for(;null!==(matchStyle=s.match(r.style));){var p;null!==(p=matchStyle[0].match(r.style_href))&&matchStyle[0].indexOf('media="')<0&&o.push(p[1]),s=s.replace(matchStyle[0],"")}return{HTML:s,SCRIPT:i,STYLE:o}},BX.garbage=function(e,t){garbageCollectors.push({callback:e,context:t})},BX.GetDocElement=function(e){return e=e||document,BX.browser.IsDoctype(e)?e.documentElement:e.body},BX.GetContext=function(e){return BX.type.isElementNode(e)?e.ownerDocument.parentWindow||e.ownerDocument.defaultView||window:BX.type.isDomNode(e)?e.parentWindow||e.defaultView||window:window},BX.GetWindowInnerSize=function(e){var t,n;return e=e||document,self.innerHeight?(t=BX.GetContext(e).innerWidth,n=BX.GetContext(e).innerHeight):e.documentElement&&(e.documentElement.clientHeight||e.documentElement.clientWidth)?(t=e.documentElement.clientWidth,n=e.documentElement.clientHeight):e.body&&(t=e.body.clientWidth,n=e.body.clientHeight),{innerWidth:t,innerHeight:n}},BX.GetWindowScrollPos=function(e){var t,n;return e=e||document,self.pageYOffset?(t=BX.GetContext(e).pageXOffset,n=BX.GetContext(e).pageYOffset):e.documentElement&&(e.documentElement.scrollTop||e.documentElement.scrollLeft)?(t=e.documentElement.scrollLeft,n=e.documentElement.scrollTop):e.body&&(t=e.body.scrollLeft,n=e.body.scrollTop),{scrollLeft:t,scrollTop:n}},BX.GetWindowScrollSize=function(e){var t,n;return e||(e=document),e.compatMode&&"CSS1Compat"==e.compatMode?(t=e.documentElement.scrollWidth,n=e.documentElement.scrollHeight):(n=e.body.scrollHeight>e.body.offsetHeight?e.body.scrollHeight:e.body.offsetHeight,t=e.body.scrollWidth>e.body.offsetWidth||e.compatMode&&"BackCompat"==e.compatMode||e.documentElement&&!e.documentElement.clientWidth?e.body.scrollWidth:e.body.offsetWidth),{scrollWidth:t,scrollHeight:n}},BX.GetWindowSize=function(e){var t=this.GetWindowInnerSize(e),n=this.GetWindowScrollPos(e),r=this.GetWindowScrollSize(e);return{innerWidth:t.innerWidth,innerHeight:t.innerHeight,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollWidth:r.scrollWidth,scrollHeight:r.scrollHeight}},BX.hide_object=function(e){e=BX(e),e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.height="10px",e.style.width="10px"},BX.is_relative=function(e){var t=BX.style(e,"position");return"relative"==t||"absolute"==t},BX.is_float=function(e){var t=BX.style(e,"float");return"right"==t||"left"==t},BX.is_fixed=function(e){var t=BX.style(e,"position");return"fixed"==t},BX.pos=function(e,t){var n={top:0,right:0,bottom:0,left:0,width:0,height:0};if(t=!!t,!e)return n;if("undefined"==typeof e.getBoundingClientRect||e.ownerDocument!=document||t){for(var r=0,i=0,o=e.offsetWidth,s=e.offsetHeight,a=!0;null!=e&&(a||!t||!BX.is_relative(e));e=e.offsetParent)if(r+=e.offsetLeft,i+=e.offsetTop,a)a=!1;else{var l=parseInt(BX.style(e,"border-left-width")),c=parseInt(BX.style(e,"border-top-width"));!isNaN(l)&&l>0&&(r+=l),!isNaN(c)&&c>0&&(i+=c)}n.top=i,n.left=r,n.width=o,n.height=s,n.right=n.left+o,n.bottom=n.top+s}else{var u=e.getBoundingClientRect(),d=document.documentElement,p=document.body;n.top=u.top+d.scrollTop+p.scrollTop,n.left=u.left+d.scrollLeft+p.scrollLeft,n.width=u.right-u.left,n.height=u.bottom-u.top,n.right=u.right+d.scrollLeft+p.scrollLeft,n.bottom=u.bottom+d.scrollTop+p.scrollTop}for(var f in n)n[f]=parseInt(n[f]);return n},BX.align=function(e,t,n,r){r=r?r.toLowerCase():"";var i=document;BX.type.isElementNode(e)&&(i=e.ownerDocument,e=BX.pos(e));var o=e.left,s=e.bottom,a=BX.GetWindowScrollPos(i),l=BX.GetWindowInnerSize(i);return l.innerWidth+a.scrollLeft-(e.left+t)<0&&(o=e.right-t>=0?e.right-t:a.scrollLeft),(l.innerHeight+a.scrollTop-(e.bottom+n)<0||~r.indexOf("top"))&&(s=e.top-n>=0||~r.indexOf("top")?e.top-n:a.scrollTop),{left:o,top:s}},BX.scrollToNode=function(e){var t=BX(e);if(t.scrollIntoView)t.scrollIntoView(!0);else{var n=BX.pos(t);window.scrollTo(n.left,n.top)}},BX.showWait=function(e,t){e=BX(e)||document.body||document.documentElement,t=t||BX.message("JS_CORE_LOADING");var n=e.id||Math.random(),r=e.bxmsg=document.body.appendChild(BX.create("DIV",{props:{id:"wait_"+n,className:"bx-core-waitwindow"},text:t}));return setTimeout(BX.delegate(_adjustWait,e),10),
lastWait[lastWait.length]=r,r},BX.closeWait=function(e,t){if(e&&!t&&(t=e.bxmsg),e&&!t&&BX.hasClass(e,"bx-core-waitwindow")&&(t=e),e&&!t&&(t=BX("wait_"+e.id)),t||(t=lastWait.pop()),t&&t.parentNode){for(var n=0,r=lastWait.length;n<r;n++)if(t==lastWait[n]){lastWait=BX.util.deleteFromArray(lastWait,n);break}t.parentNode.removeChild(t),e&&(e.bxmsg=null),BX.cleanNode(t,!0)}},BX.setKernelJS=function(e){BX.type.isArray(e)&&(arKernelJS=e)},BX.getKernelJS=function(){return arKernelJS},BX.loadScript=function(e,t,n){if(!BX.isReady){var r=arguments;return void BX.ready(function(){BX.loadScript.apply(this,r)})}n=n||document,BX.type.isString(e)&&(e=[e]);var i=function(){return t&&BX.type.isFunction(t)?t():null},o=function(t){if(t>=e.length)return i();if(e[t]){var r=n.getElementsByTagName("head")[0]||n.documentElement,s=n.createElement("script");s.src=e[t];var a=e[t].indexOf(".js?");if(a>0?fileSrc=e[t].substr(0,a+3):fileSrc=e[t],!_isScriptLoaded(fileSrc)){var l=!1;return s.onload=s.onreadystatechange=function(){l||s.readyState&&"loaded"!=s.readyState&&"complete"!=s.readyState||(l=!0,setTimeout(function(){o(++t)},50),s.onload=s.onreadystatechange=null,r&&s.parentNode&&r.removeChild(s))},r.insertBefore(s,r.firstChild)}o(++t)}else o(++t)};o(0)},BX.loadCSS=function(e,t,n){if(!BX.isReady){var r=arguments;return BX.ready(function(){BX.loadCSS.apply(this,r)}),null}if(BX.type.isString(e)){var i=!0;e=[e]}var o=0,s=e.length,a=null,l=[];if(0==s)return null;if(t=t||document,n=n||window,_checkCssList(),!n.bxhead){var c=t.getElementsByTagName("HEAD");if(n.bxhead=c[0],!n.bxhead)return null}for(o=0;o<s;o++){var u=e[o].replace(/\.css(\?\d*)/,".css").replace(/^(http[s]*:)*\/\/[^\/]+/i,"");BX.util.in_array(u,cssList)||(a=document.createElement("LINK"),a.href=e[o],a.rel="stylesheet",a.type="text/css",n.bxhead.appendChild(a),l.push(a),cssList.push(u))}return i?a:l},BX.reload=function(e,t){e===!0&&(t=!0,e=null);var n=e||top.location.href,r=n.indexOf("#"),i="";r!=-1&&(i=n.substr(r),n=n.substr(0,r)),t&&n.indexOf("clear_cache=Y")<0&&(n+=(n.indexOf("?")==-1?"?":"&")+"clear_cache=Y"),i&&(t&&("view/"==i.substr(0,5)||"#view/"==i.substr(0,6))&&i.indexOf("clear_cache%3DY")<0&&(i+=(i.indexOf("%3F")==-1?"%3F":"%26")+"clear_cache%3DY"),n=n.replace(/(\?|\&)_r=[\d]*/,""),n+=(n.indexOf("?")==-1?"?":"&")+"_r="+Math.round(1e4*Math.random())+i),top.location.href=n},BX.clearCache=function(){BX.showWait(),BX.reload(!0)},BX.template=function(e,t,n){BX.ready(function(){_processTpl(BX(e),t,n)})},BX.isAmPmMode=function(){return null!=BX.message("FORMAT_DATETIME").match("T")},BX.formatDate=function(e,t){e=e||new Date;var n=e.getHours()||e.getMinutes()||e.getSeconds(),r=t?t:n?BX.message("FORMAT_DATETIME"):BX.message("FORMAT_DATE");return r.replace(/YYYY/gi,e.getFullYear()).replace(/MMMM/gi,BX.util.str_pad_left((e.getMonth()+1).toString(),2,"0")).replace(/MM/gi,BX.util.str_pad_left((e.getMonth()+1).toString(),2,"0")).replace(/DD/gi,BX.util.str_pad_left(e.getDate().toString(),2,"0")).replace(/HH/gi,BX.util.str_pad_left(e.getHours().toString(),2,"0")).replace(/MI/gi,BX.util.str_pad_left(e.getMinutes().toString(),2,"0")).replace(/SS/gi,BX.util.str_pad_left(e.getSeconds().toString(),2,"0"))},BX.getNumMonth=function(e){var t=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],n=["january","february","march","april","may","june","july","august","september","october","november","december"],r=e.toUpperCase();for(i=1;i<=12;i++)if(r==BX.message("MON_"+i).toUpperCase()||r==BX.message("MONTH_"+i).toUpperCase()||r==t[i-1].toUpperCase()||r==n[i-1].toUpperCase())return i;return e},BX.parseDate=function(e){if(BX.type.isNotEmptyString(e)){var t="";for(n=1;n<=12;n++)t=t+"|"+BX.message("MON_"+n);var n,r,i=new RegExp("([0-9]+|[a-z]+"+t+")","ig"),o=e.match(i),s=BX.message("FORMAT_DATE").match(/(DD|MI|MMMM|MM|M|YYYY)/gi),a=[],l=[],c={};if(!o)return null;for(o.length>s.length&&(s=BX.message("FORMAT_DATETIME").match(/(DD|MI|MMMM|MM|M|YYYY|HH|H|SS|TT|T|GG|G)/gi)),n=0,r=o.length;n<r;n++)""!=BX.util.trim(o[n])&&(a[a.length]=o[n]);for(n=0,r=s.length;n<r;n++)""!=BX.util.trim(s[n])&&(l[l.length]=s[n]);var u=BX.util.array_search("MMMM",l);for(u>0?(a[u]=BX.getNumMonth(a[u]),l[u]="MM"):(u=BX.util.array_search("M",l),u>0&&(a[u]=BX.getNumMonth(a[u]),l[u]="MM")),n=0,r=l.length;n<r;n++){var d=l[n].toUpperCase();c[d]="T"==d||"TT"==d?a[n]:parseInt(a[n],10)}if(c.DD>0&&c.MM>0&&c.YYYY>0){var p=new Date;if(p.setDate(1),p.setFullYear(c.YYYY),p.setMonth(c.MM-1),p.setDate(c.DD),p.setHours(0,0,0),!(isNaN(c.HH)&&isNaN(c.GG)&&isNaN(c.H)&&isNaN(c.G)||isNaN(c.MI))){if(isNaN(c.H)&&isNaN(c.G))c.HH=parseInt(c.HH||c.GG||0,10);else{var f="PM"==(c.T||c.TT||"am").toUpperCase();c.HH=parseInt(c.H||c.G||0,10)+(f?12:0)}isNaN(c.SS)&&(c.SS=0),p.setHours(c.HH,c.MI,c.SS)}return p}}return null},BX.selectUtils={addNewOption:function(e,t,n,r,i){if(e=BX(e)){var o=e.length;if(i!==!1)for(var s=0;s<o;s++)if(e[s].value==t)return;var a=new Option(n,t,(!1),(!1));e.options[o]=a}r===!0&&this.sortSelect(select_id)},deleteOption:function(e,t){if(e=BX(e))for(var n=0;n<e.length;n++)if(e[n].value==t){e.remove(n);break}},deleteSelectedOptions:function(e){var t=BX(e);if(t)for(var n=0;n<t.length;)t[n].selected?(t[n].selected=!1,t.remove(n)):n++},deleteAllOptions:function(e){if(e=BX(e))for(var t=e.length-1;t>=0;t--)e.remove(t)},optionCompare:function(e,t){var n=e.optText.toLowerCase(),r=t.optText.toLowerCase();return n>r?1:n<r?-1:0},sortSelect:function(e){if(e=BX(select_id)){for(var t=[],n=e.options.length,r=0;r<n;r++)t[r]={optText:e[r].text,optValue:e[r].value};t.sort(this.optionCompare),e.length=0,n=t.length;for(var r=0;r<n;r++){var i=new Option(t[r].optText,t[r].optValue,(!1),(!1));e[r]=i}}},selectAllOptions:function(e){if(e=BX(select_id))for(var t=e.length,n=0;n<t;n++)e[n].selected=!0},selectOption:function(e,t){if(e=BX(select_id))for(var n=e.length,r=0;r<n;r++)e[r].selected=e[r].value==t},addSelectedOptions:function(e,t,n,r){if(e=BX(e))for(var i=e.length,o=0;o<i;o++)e[o].selected&&this.addNewOption(t,e[o].value,e[o].text,r,n)},moveOptionsUp:function(e){if(e=BX(e))for(var t=e.length,n=0;n<t;n++)if(e[n].selected&&n>0&&0==e[n-1].selected){var r=new Option(e[n].text,e[n].value),i=new Option(e[n-1].text,e[n-1].value);e[n]=i,e[n].selected=!1,e[n-1]=r,e[n-1].selected=!0}},moveOptionsDown:function(e){if(e=BX(e))for(var t=e.length,n=t-1;n>=0;n--)if(e[n].selected&&n<t-1&&0==e[n+1].selected){var r=new Option(e[n].text,e[n].value),i=new Option(e[n+1].text,e[n+1].value);e[n]=i,e[n].selected=!1,e[n+1]=r,e[n+1].selected=!0}}},BX.hint=function(e,t,n,r){null==n&&(n=t,t=""),null==e.BXHINT&&(e.BXHINT=new BX.CHint({parent:e,hint:n,title:t,id:r}),e.BXHINT.Show())},BX.hint_replace=function(e,t,n){if(null==n&&(n=t,t=""),!e||!e.parentNode||!n)return null;var r=new BX.CHint({hint:n,title:t});return r.CreateParent(),e.parentNode.insertBefore(r.PARENT,e),e.parentNode.removeChild(e),r.PARENT.style.marginLeft="5px",e},BX.CHint=function(e){this.PARENT=BX(e.parent),this.HINT=e.hint,this.HINT_TITLE=e.title,this.PARAMS={};for(var t in this.defaultSettings)null==e[t]?this.PARAMS[t]=this.defaultSettings[t]:this.PARAMS[t]=e[t];null!=e.id&&(this.ID=e.id),this.timer=null,this.bInited=!1,this.msover=!0,this.PARAMS.showOnce?(this.__show(),this.msover=!1,this.timer=setTimeout(BX.proxy(this.__hide,this),this.PARAMS.hide_timeout)):this.PARENT&&(BX.bind(this.PARENT,"mouseover",BX.proxy(this.Show,this)),BX.bind(this.PARENT,"mouseout",BX.proxy(this.Hide,this))),BX.addCustomEvent("onMenuOpen",BX.delegate(this.disable,this)),BX.addCustomEvent("onMenuClose",BX.delegate(this.enable,this))},BX.CHint.prototype.defaultSettings={show_timeout:1e3,hide_timeout:500,dx:2,showOnce:!1,preventHide:!0,min_width:250},BX.CHint.prototype.CreateParent=function(e,t){this.PARENT&&(BX.unbind(this.PARENT,"mouseover",BX.proxy(this.Show,this)),BX.unbind(this.PARENT,"mouseout",BX.proxy(this.Hide,this))),t||(t={});var n="icon";return!t.type||"link"!=t.type&&"icon"!=t.type||(n=t.type),e&&(n="element"),"icon"==n?e=BX.create("IMG",{props:{src:t.iconSrc?t.iconSrc:"/bitrix/js/main/core/images/hint.gif"}}):"link"==n&&(e=BX.create("A",{props:{href:"javascript:void(0)"},html:"[?]"})),this.PARENT=e,BX.bind(this.PARENT,"mouseover",BX.proxy(this.Show,this)),BX.bind(this.PARENT,"mouseout",BX.proxy(this.Hide,this)),this.PARENT},BX.CHint.prototype.Show=function(){this.msover=!0,null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(BX.proxy(this.__show,this),this.PARAMS.show_timeout)},BX.CHint.prototype.Hide=function(){this.msover=!1,null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(BX.proxy(this.__hide,this),this.PARAMS.hide_timeout)},BX.CHint.prototype.__show=function(){this.msover&&!this.disabled&&(this.bInited||this.Init(),this.prepareAdjustPos()&&(this.DIV.style.display="block",this.adjustPos(),BX.bind(window,"scroll",BX.proxy(this.__onscroll,this)),this.PARAMS.showOnce&&(this.timer=setTimeout(BX.proxy(this.__hide,this),this.PARAMS.hide_timeout))))},BX.CHint.prototype.__onscroll=function(){BX.admin&&BX.admin.panel&&BX.admin.panel.isFixed()&&(this.scrollTimer&&clearTimeout(this.scrollTimer),this.DIV.style.display="none",this.scrollTimer=setTimeout(BX.proxy(this.Reopen,this),this.PARAMS.show_timeout))},BX.CHint.prototype.Reopen=function(){null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(BX.proxy(this.__show,this),50)},BX.CHint.prototype.__hide=function(){this.msover||this.bInited&&(BX.unbind(window,"scroll",BX.proxy(this.Reopen,this)),this.PARAMS.showOnce?this.Destroy():this.DIV.style.display="none")},BX.CHint.prototype.__hide_immediately=function(){this.msover=!1,this.__hide()},BX.CHint.prototype.Init=function(){this.DIV=document.body.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip"},style:{display:"none"},children:[BX.create("DIV",{props:{className:"bx-panel-tooltip-top-border"},html:'<div class="bx-panel-tooltip-corner bx-panel-tooltip-left-corner"></div><div class="bx-panel-tooltip-border"></div><div class="bx-panel-tooltip-corner bx-panel-tooltip-right-corner"></div>'}),this.CONTENT=BX.create("DIV",{props:{className:"bx-panel-tooltip-content"},children:[BX.create("DIV",{props:{className:"bx-panel-tooltip-underlay"},children:[BX.create("DIV",{props:{className:"bx-panel-tooltip-underlay-bg"}})]})]}),BX.create("DIV",{props:{className:"bx-panel-tooltip-bottom-border"},html:'<div class="bx-panel-tooltip-corner bx-panel-tooltip-left-corner"></div><div class="bx-panel-tooltip-border"></div><div class="bx-panel-tooltip-corner bx-panel-tooltip-right-corner"></div>'})]})),this.ID&&this.CONTENT.insertBefore(BX.create("A",{attrs:{href:"javascript:void(0)"},props:{className:"bx-panel-tooltip-close"},events:{click:BX.delegate(this.Close,this)}}),this.CONTENT.firstChild),this.HINT_TITLE&&this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-title"},text:this.HINT_TITLE})),this.HINT&&(this.CONTENT_TEXT=this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-text"}})).appendChild(BX.create("SPAN",{html:this.HINT}))),this.PARAMS.preventHide&&(BX.bind(this.DIV,"mouseout",BX.proxy(this.Hide,this)),BX.bind(this.DIV,"mouseover",BX.proxy(this.Show,this))),this.bInited=!0},BX.CHint.prototype.setContent=function(e){this.HINT=e,this.CONTENT_TEXT?this.CONTENT_TEXT.innerHTML=this.HINT:this.CONTENT_TEXT=this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-text"}})).appendChild(BX.create("SPAN",{html:this.HINT}))},BX.CHint.prototype.prepareAdjustPos=function(){return this._wnd={scrollPos:BX.GetWindowScrollPos(),scrollSize:BX.GetWindowScrollSize()},"none"!=BX.style(this.PARENT,"display")},BX.CHint.prototype.getAdjustPos=function(){var e={},t=BX.pos(this.PARENT);if(e.top=t.bottom+this.PARAMS.dx,BX.admin&&BX.admin.panel.DIV){var n=BX.admin.panel.DIV.offsetHeight+this.PARAMS.dx;BX.admin.panel.isFixed()&&(n+=this._wnd.scrollPos.scrollTop)}if(e.top<n?e.top=n:e.top+this.DIV.offsetHeight>this._wnd.scrollSize.scrollHeight&&(e.top=t.top-this.PARAMS.dx-this.DIV.offsetHeight),e.left=t.left,t.left<this.PARAMS.dx)t.left=this.PARAMS.dx;else{floatWidth=this.DIV.offsetWidth;var r=this._wnd.scrollSize.scrollWidth-floatWidth-this.PARAMS.dx;e.left>r&&(e.left=r)}return e},BX.CHint.prototype.adjustWidth=function(){if(!this.bWidthAdjusted){var e=this.DIV.offsetWidth,t=this.DIV.offsetHeight;e>this.PARAMS.min_width&&(e=Math.round(Math.sqrt(1.618*e*t))),e<this.PARAMS.min_width&&(e=this.PARAMS.min_width),this.DIV.style.width=e+"px",this._adjustWidthInt&&clearInterval(this._adjustWidthInt),this._adjustWidthInt=setInterval(BX.delegate(this._adjustWidthInterval,this),5),this.bWidthAdjusted=!0}},BX.CHint.prototype._adjustWidthInterval=function(){this.DIV&&"none"!=this.DIV.style.display||clearInterval(this._adjustWidthInt);var e=20,t=1500,n=this.DIV.offsetWidth,r=this.CONTENT_TEXT.offsetWidth;return n>0&&r>0&&n-r<e&&n<t?void(this.DIV.style.width=n+e+"px"):void clearInterval(this._adjustWidthInt)},BX.CHint.prototype.adjustPos=function(){this.adjustWidth();var e=this.getAdjustPos();this.DIV.style.top=e.top+"px",this.DIV.style.left=e.left+"px"},BX.CHint.prototype.Close=function(){this.ID&&BX.WindowManager&&BX.WindowManager.saveWindowOptions(this.ID,{display:"off"}),this.__hide_immediately(),this.Destroy()},BX.CHint.prototype.Destroy=function(){this.PARENT&&(BX.unbind(this.PARENT,"mouseover",BX.proxy(this.Show,this)),BX.unbind(this.PARENT,"mouseout",BX.proxy(this.Hide,this))),this.DIV&&(BX.unbind(this.DIV,"mouseover",BX.proxy(this.Show,this)),BX.unbind(this.DIV,"mouseout",BX.proxy(this.Hide,this)),BX.cleanNode(this.DIV,!0))},BX.CHint.prototype.enable=function(){this.disabled=!1},BX.CHint.prototype.disable=function(){this.__hide_immediately(),this.disabled=!0},document.addEventListener?__readyHandler=function(){document.removeEventListener("DOMContentLoaded",__readyHandler,!1),runReady()}:document.attachEvent&&(__readyHandler=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",__readyHandler),runReady())}),window.attachEvent?window.attachEvent("onunload",Trash):window.addEventListener?window.addEventListener("unload",Trash,!1):window.onunload=Trash,BX(BX.DoNothing),window.BX=BX,BX.browser.addGlobalClass(),BX.browser.addGlobalFeatures(["boxShadow","borderRadius","flexWrap","boxDirection","transition","transform"])}}(window);
//# sourceMappingURL=maps/core.js.map
